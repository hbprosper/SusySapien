<?xml version="1.0"?>
<!--
==============================================================================
  XML File: CaloTower.xml
  Created:  Fri Jan 15 20:45:18 2010 with header2xml.py 1.13
==============================================================================
-->
<header name="DataFormats/CaloTowers/interface/CaloTower.h"
        file="/home/harry/Desktop/cmssw/slc4_ia32_gcc345/cms/cmssw/CMSSW_3_3_6/src/DataFormats/CaloTowers/interface/CaloTower.h">

    <include name="&quot;DataFormats/Candidate/interface/LeafCandidate.h&quot;"/>
    <include name="&quot;DataFormats/DetId/interface/DetId.h&quot;"/>
    <include name="&quot;DataFormats/CaloTowers/interface/CaloTowerDetId.h&quot;"/>
    <include name="&quot;DataFormats/Math/interface/Vector3D.h&quot;"/>
    <include name="&quot;Rtypes.h&quot;"/>
    <include name="&lt;vector&gt;"/>
    <include name="&lt;cmath&gt;"/>
    <include name="&quot;DataFormats/GeometryVector/interface/GlobalPoint.h&quot;"/>

    <class name="CaloTower"
           fullname="CaloTower"
           module="DataFormats.CaloTowers"
           project=""
           type="regular">
        <baseclass name="public reco::LeafCandidate"/>
        <comment>
   Original author: J. Mans - Minnesota

   Modified: Anton Anastassov (Northwestern)
      Make CaloTower inherit from LeafCandidate,
      add new members and accessors.
        </comment>

        <section name="public">
            <typedef name="key_type"
                     value="CaloTowerDetId">
typedef CaloTowerDetId key_type;
            </typedef>

            <constructor name="CaloTower"
                         return=""
                         args="['void']"
                         vars="['']"
                         qual="">
CaloTower();
                <comment>
     Default constructor
                </comment>
            </constructor>

            <constructor name="CaloTower"
                         return=""
                         args="['const CaloTowerDetId&amp;','double','double','double','int','int','const PolarLorentzVector','GlobalPoint','GlobalPoint']"
                         vars="['id','emE','hadE','outerE','ecal_tp','hcal_tp','p4','emPosition','hadPosition']"
                         qual="">
CaloTower(const CaloTowerDetId&amp; id, double emE, double hadE, double outerE, int ecal_tp, int hcal_tp, const PolarLorentzVector p4, GlobalPoint emPosition, GlobalPoint hadPosition);
                <comment>
     Constructors from values
                </comment>
            </constructor>

            <constructor name="CaloTower"
                         return=""
                         args="['const CaloTowerDetId&amp;','double','double','double','int','int','const LorentzVector','GlobalPoint','GlobalPoint']"
                         vars="['id','emE','hadE','outerE','ecal_tp','hcal_tp','p4','emPosition','hadPosition']"
                         qual="">
CaloTower(const CaloTowerDetId&amp; id, double emE, double hadE, double outerE, int ecal_tp, int hcal_tp, const LorentzVector p4, GlobalPoint emPosition, GlobalPoint hadPosition);
            </constructor>

            <method1 name="addConstituent"
                     return="void"
                     args="['DetId']"
                     vars="['id']"
                     qual="">
void addConstituent(DetId id);
                <comment>
      setters
                </comment>
            </method1>

            <method2 name="addConstituents"
                     return="void"
                     args="['const std::vector&lt;DetId&gt;&amp;']"
                     vars="['ids']"
                     qual="">
void addConstituents(const std::vector&lt;DetId&gt;&amp; ids);
            </method2>

            <method1 name="setEcalTime"
                     return="void"
                     args="['int']"
                     vars="['t']"
                     qual="">
void setEcalTime(int t);
            </method1>

            <method1 name="setHcalTime"
                     return="void"
                     args="['int']"
                     vars="['t']"
                     qual="">
void setHcalTime(int t);
            </method1>

            <method1 name="setCaloTowerStatus"
                     return="void"
                     args="['uint','uint','uint','uint','uint','uint']"
                     vars="['numBadHcalChan','numBadEcalChan','numRecHcalChan','numRecEcalChan','numProbHcalChan','numProbEcalChan']"
                     qual="">
void setCaloTowerStatus(uint numBadHcalChan, uint numBadEcalChan, uint numRecHcalChan, uint numRecEcalChan, uint numProbHcalChan, uint numProbEcalChan);
                <comment>
     set CaloTower status based on the number of
     bad/recovered/problematic cells in ECAL and HCAL
                </comment>
            </method1>

            <method1 name="setCaloTowerStatus"
                     return="void"
                     args="['uint32_t']"
                     vars="['s']"
                     qual="">
void setCaloTowerStatus(uint32_t s);
            </method1>

            <method1 name="id"
                     return="CaloTowerDetId"
                     args="['void']"
                     vars="['']"
                     qual="const">
CaloTowerDetId id() const;
                <comment>
     getters
                </comment>
            </method1>

            <method2 name="constituents"
                     return="const std::vector&lt;DetId&gt;&amp;"
                     args="['void']"
                     vars="['']"
                     qual="const">
const std::vector&lt;DetId&gt;&amp; constituents() const;
            </method2>

            <method1 name="constituentsSize"
                     return="size_t"
                     args="['void']"
                     vars="['']"
                     qual="const">
size_t constituentsSize() const;
            </method1>

            <method1 name="constituent"
                     return="DetId"
                     args="['size_t']"
                     vars="['i']"
                     qual="const">
DetId constituent(size_t i) const;
            </method1>

            <method1 name="emEnergy"
                     return="double"
                     args="['void']"
                     vars="['']"
                     qual="const">
double emEnergy() const;
                <comment>
     energy contributions from different detectors
     energy in HO (&quot;outerEnergy&quot;)is not included in &quot;hadEnergy&quot;
                </comment>
            </method1>

            <method1 name="hadEnergy"
                     return="double"
                     args="['void']"
                     vars="['']"
                     qual="const">
double hadEnergy() const;
            </method1>

            <method1 name="outerEnergy"
                     return="double"
                     args="['void']"
                     vars="['']"
                     qual="const">
double outerEnergy() const;
            </method1>

            <method1 name="emEt"
                     return="double"
                     args="['void']"
                     vars="['']"
                     qual="const">
double emEt() const;
                <comment>
     transverse energies wrt to vtx (0,0,0)
                </comment>
            </method1>

            <method1 name="hadEt"
                     return="double"
                     args="['void']"
                     vars="['']"
                     qual="const">
double hadEt() const;
            </method1>

            <method1 name="outerEt"
                     return="double"
                     args="['void']"
                     vars="['']"
                     qual="const">
double outerEt() const;
            </method1>

            <method1 name="p4"
                     return="math::PtEtaPhiMLorentzVector"
                     args="['double']"
                     vars="['vtxZ']"
                     qual="const">
math::PtEtaPhiMLorentzVector p4(double vtxZ) const;
                <comment>
     recalculated wrt user provided vertex Z position;
                </comment>
            </method1>

            <method1 name="p"
                     return="double"
                     args="['double']"
                     vars="['vtxZ']"
                     qual="const">
double p (double vtxZ) const;
            </method1>

            <method1 name="et"
                     return="double"
                     args="['double']"
                     vars="['vtxZ']"
                     qual="const">
double et(double vtxZ) const;
            </method1>

            <method1 name="emEt"
                     return="double"
                     args="['double']"
                     vars="['vtxZ']"
                     qual="const">
double emEt(double vtxZ) const;
            </method1>

            <method1 name="hadEt"
                     return="double"
                     args="['double']"
                     vars="['vtxZ']"
                     qual="const">
double hadEt(double vtxZ) const;
            </method1>

            <method1 name="outerEt"
                     return="double"
                     args="['double']"
                     vars="['vtxZ']"
                     qual="const">
double outerEt(double vtxZ) const;
            </method1>

            <method1 name="p4"
                     return="math::PtEtaPhiMLorentzVector"
                     args="['Point']"
                     vars="['v']"
                     qual="const">
math::PtEtaPhiMLorentzVector p4(Point v) const;
                <comment>
     recalculated wrt vertex provided as 3D point
                </comment>
            </method1>

            <method1 name="p"
                     return="double"
                     args="['Point']"
                     vars="['v']"
                     qual="const">
double p (Point v) const;
            </method1>

            <method1 name="et"
                     return="double"
                     args="['Point']"
                     vars="['v']"
                     qual="const">
double et(Point v) const;
            </method1>

            <method1 name="emEt"
                     return="double"
                     args="['Point']"
                     vars="['v']"
                     qual="const">
double emEt(Point v) const;
            </method1>

            <method1 name="hadEt"
                     return="double"
                     args="['Point']"
                     vars="['v']"
                     qual="const">
double hadEt(Point v) const;
            </method1>

            <method1 name="outerEt"
                     return="double"
                     args="['Point']"
                     vars="['v']"
                     qual="const">
double outerEt(Point v) const;
            </method1>

            <method1 name="p4_HO"
                     return="math::PtEtaPhiMLorentzVector"
                     args="['void']"
                     vars="['']"
                     qual="const">
math::PtEtaPhiMLorentzVector p4_HO() const;
                <comment>
     Access to p4 comming from HO alone: requested by JetMET to add/subtract HO contributions
     to the tower for cases when the tower collection was created without/with HO
                </comment>
            </method1>

            <method1 name="p4_HO"
                     return="math::PtEtaPhiMLorentzVector"
                     args="['double']"
                     vars="['vtxZ']"
                     qual="const">
math::PtEtaPhiMLorentzVector p4_HO(double vtxZ) const;
            </method1>

            <method1 name="p4_HO"
                     return="math::PtEtaPhiMLorentzVector"
                     args="['Point']"
                     vars="['v']"
                     qual="const">
math::PtEtaPhiMLorentzVector p4_HO(Point v) const;
            </method1>

            <method1 name="emPosition"
                     return="const GlobalPoint&amp;"
                     args="['void']"
                     vars="['']"
                     qual="const">
const GlobalPoint&amp; emPosition() const;
                <comment>
     the reference poins in ECAL and HCAL for direction determination
     algorithm and parameters for selecting these points are set in the CaloTowersCreator
                </comment>
            </method1>

            <method1 name="hadPosition"
                     return="const GlobalPoint&amp;"
                     args="['void']"
                     vars="['']"
                     qual="const">
const GlobalPoint&amp; hadPosition() const;
            </method1>

            <method1 name="emLvl1"
                     return="int"
                     args="['void']"
                     vars="['']"
                     qual="const">
int emLvl1() const;
            </method1>

            <method1 name="hadLv11"
                     return="int"
                     args="['void']"
                     vars="['']"
                     qual="const">
int hadLv11() const;
            </method1>

            <method1 name="hadEnergyHeOuterLayer"
                     return="double"
                     args="['void']"
                     vars="['']"
                     qual="const">
double hadEnergyHeOuterLayer() const;
                <comment>
     energy contained in depths&gt;1 in the HE for 18&lt;|iEta|&lt;29
                </comment>
            </method1>

            <method1 name="hadEnergyHeInnerLayer"
                     return="double"
                     args="['void']"
                     vars="['']"
                     qual="const">
double hadEnergyHeInnerLayer() const;
            </method1>

            <method1 name="ecalTime"
                     return="float"
                     args="['void']"
                     vars="['']"
                     qual="const">
float ecalTime() const;
                <comment>
     time (ns) in ECAL/HCAL components of the tower based on weigted sum of the times in the contributing RecHits
                </comment>
            </method1>

            <method1 name="hcalTime"
                     return="float"
                     args="['void']"
                     vars="['']"
                     qual="const">
float hcalTime() const;
            </method1>

            <method1 name="ieta"
                     return="int"
                     args="['void']"
                     vars="['']"
                     qual="const">
int ieta() const;
                <comment>
     position information on the tower
                </comment>
            </method1>

            <method1 name="ietaAbs"
                     return="int"
                     args="['void']"
                     vars="['']"
                     qual="const">
int ietaAbs() const;
            </method1>

            <method1 name="iphi"
                     return="int"
                     args="['void']"
                     vars="['']"
                     qual="const">
int iphi() const;
            </method1>

            <method1 name="zside"
                     return="int"
                     args="['void']"
                     vars="['']"
                     qual="const">
int zside() const;
            </method1>

            <method1 name="numCrystals"
                     return="int"
                     args="['void']"
                     vars="['']"
                     qual="const">
int numCrystals() const;
            </method1>

            <method1 name="numBadEcalCells"
                     return="uint"
                     args="['void']"
                     vars="['']"
                     qual="const">
uint numBadEcalCells() const;
                <comment>
     methods to retrieve status information from the CaloTower:
     number of bad/recovered/problematic cells in the tower
     separately for ECAL and HCAL
                </comment>
            </method1>

            <method1 name="numRecoveredEcalCells"
                     return="uint"
                     args="['void']"
                     vars="['']"
                     qual="const">
uint numRecoveredEcalCells() const;
            </method1>

            <method1 name="numProblematicEcalCells"
                     return="uint"
                     args="['void']"
                     vars="['']"
                     qual="const">
uint numProblematicEcalCells() const;
            </method1>

            <method1 name="numBadHcalCells"
                     return="uint"
                     args="['void']"
                     vars="['']"
                     qual="const">
uint numBadHcalCells() const;
            </method1>

            <method1 name="numRecoveredHcalCells"
                     return="uint"
                     args="['void']"
                     vars="['']"
                     qual="const">
uint numRecoveredHcalCells() const;
            </method1>

            <method1 name="numProblematicHcalCells"
                     return="uint"
                     args="['void']"
                     vars="['']"
                     qual="const">
uint numProblematicHcalCells() const;
            </method1>

            <method1 name="towerStatusWord"
                     return="uint32_t"
                     args="['void']"
                     vars="['']"
                     qual="const">
uint32_t towerStatusWord() const;
                <comment>
     the status word itself
                </comment>
            </method1>

        </section>

        <typemap name="key_type"
                 value="CaloTowerDetId"
                 type="typedef"/>

    </class>
    <operator name="operator&lt;&lt;"
              return="std::ostream&amp;"
              args="['std::ostream&amp;','const CaloTower&amp;']"
              vars="['s','ct']"
              qual="">
std::ostream&amp; operator&lt;&lt;(std::ostream&amp; s, const CaloTower&amp; ct);
    </operator>

    <operator name="operator=="
              return="inline bool"
              args="['const CaloTower&amp;','const CaloTower&amp;']"
              vars="['t1','t2']"
              qual="">
inline bool operator==(const CaloTower&amp; t1, const CaloTower&amp; t2);
    </operator>


    <type name="CaloTower"/>
    <type name="CaloTowerDetId"/>
    <type name="DetId"/>
    <type name="GlobalPoint"/>
    <type name="Point"/>
    <type name="const CaloTowerDetId&amp;"/>
    <type name="const GlobalPoint&amp;"/>
    <type name="const LorentzVector"/>
    <type name="const PolarLorentzVector"/>
    <type name="const std::vector&lt;DetId&gt;&amp;"/>
    <type name="double"/>
    <type name="float"/>
    <type name="int"/>
    <type name="math::PtEtaPhiMLorentzVector"/>
    <type name="reco::LeafCandidate"/>
    <type name="size_t"/>
    <type name="uint"/>
    <type name="uint32_t"/>
    <type name="void"/>
</header>
